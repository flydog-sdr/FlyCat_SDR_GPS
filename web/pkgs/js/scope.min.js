

/* web/pkgs/js/scope.min.js */
var scope={init:0,run:1,width:0,height:0,left:0,margin:0,x:0,y:0,prev_x:0,trace_count:0,trace_count_max:6,end:null};function scope_init(t,e){var l=scope;l.ctx=t.getContext("2d"),l.sec_per_sweep=w3_opt(e,"sec_per_sweep",10),l.srate=w3_opt(e,"srate",12e3),l.single_shot=w3_opt(e,"single_shot",0),l.background_color=w3_opt(e,"background_color","white"),l.line_height=w3_opt(e,"line_height",16),l.trace_height=w3_opt(e,"trace_height",12),l.width=w3_opt(e,"width",800),l.height=w3_opt(e,"height",200),l.left=w3_opt(e,"left",50),l.margin=w3_opt(e,"margin",1),l.y_set=l.margin+l.line_height,l.y_inc=l.margin+2*l.line_height,l.init=1,scope_clr()}function scope_clr(){var t=scope;t.init&&(t.trace_count=0,t.x_inc=t.left+(t.single_shot?0:64),t.y=t.y_set,t.ctx.fillStyle=t.background_color,t.ctx.fillRect(t.left,0,t.width+1,t.height))}function scope_draw(t,e,l,c,i,o){var _=scope;if(_.init&&_.run){if(_.x_inc+=_.width/_.srate/_.sec_per_sweep,_.x=Math.round(_.x_inc),_.x>=_.left+_.width){if(_.trace_count++,_.single_shot&&_.trace_count>=_.trace_count_max)return void(_.run=0);_.x_inc=_.left,_.y+=_.y_inc,_.y>_.height-_.y_set&&(_.y=_.y_set),_.ctx.fillStyle=_.background_color,_.ctx.fillRect(_.left,_.y-_.y_set,_.width+1,_.y_inc)}t=w3_obj_num(t),e=w3_obj_num(e),l=w3_obj_num(l),c=w3_obj_num(c),i=w3_obj_num(i),o=w3_obj_num(o);var n=function(t){return t.num*_.trace_height};t.num&&_.x!=_.prev_x&&(_.ctx.fillStyle="cyan",_.ctx.globalAlpha=.3,_.ctx.fillRect(_.x,_.y-_.trace_height,1,2*_.trace_height),_.ctx.globalAlpha=1),null!=e&&(_.ctx.fillStyle=e.color?e.color:"#ff5050",_.ctx.fillRect(_.x,_.y-n(e),1,1)),null!=l&&(_.ctx.fillStyle=l.color?l.color:"orange",_.ctx.fillRect(_.x,_.y-n(l),1,1)),null!=c&&(_.ctx.fillStyle=c.color?c.color:"black",_.ctx.fillRect(_.x,_.y-Math.round(n(c)),1,1)),null!=i&&(_.ctx.fillStyle=i.color?i.color:"lime",_.ctx.fillRect(_.x,_.y-n(i),1,1)),null!=o&&o.num&&(_.ctx.fillStyle=1==o.num?"black":o.color,_.ctx.fillRect(_.x,_.y-_.trace_height,1,2*_.trace_height)),_.prev_x=_.x}}